(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{5602:function(t,n,e){"use strict";e.d(n,{Dh:function(){return a},Jb:function(){return o},Nu:function(){return u},nJ:function(){return i}});var r=e(253),a="en";function o(t){return"en-US"===t?"en":t}function i(t){return"en"===t?"en-US":t}var s={en:"en-US",es:"es-419",zh:"zh-Hant-HK"};function u(t){var n={en:[]};t.forEach((function(t){var e=i(t.locale),a=(0,r.Z)(e.split("-",1),1)[0];n[a]=n[a]||[],n[a].push(t)}));var e=!0,a=!1,o=void 0;try{for(var u,l=function(){var t=(0,r.Z)(u.value,2),n=t[0],e=t[1],a=s[n];a&&e.sort((function(t,n){var e=i(t.locale),r=i(n.locale);return e===a?1:r===a?-1:0}))},c=Object.entries(n)[Symbol.iterator]();!(e=(u=c.next()).done);e=!0)l()}catch(b){a=!0,o=b}finally{try{e||null==c.return||c.return()}finally{if(a)throw o}}var f=[],v=!0,h=!1,p=void 0;try{for(var d,g=function(){var t=(0,r.Z)(d.value,2),n=t[0],e=t[1];e.forEach((function(t,r){var a;a=r<e.length-1?i(t.locale):n,f.push([t,a])}))},m=Object.entries(n)[Symbol.iterator]();!(v=(d=m.next()).done);v=!0)g()}catch(b){h=!0,p=b}finally{try{v||null==m.return||m.return()}finally{if(h)throw p}}f.sort((function(t,n){var e=(0,r.Z)(t,2)[1],a=(0,r.Z)(n,2)[1];return"en"===e?-1:"en"===a?1:0}));var y=t.find((function(t){return function(t){return"en"===t||"en-US"===t}(t.locale)}));return y&&f.push([y,"x-default"]),f}},8502:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(7891);function a(t){return t.trim().split("/").filter((function(t){return""!==t}))}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.v.Pages;if(n===r.v.Integrations)return["apps",t.Slug];var e=[],o=t.Slug,i=t.Parent,s=o,u=null===i||void 0===i?void 0:i.urlPrefixFallback,l=u?a(u):[];if("home"!==o)for(e.push(o);i;){var c,f,v,h,p=(null===(c=i.page)||void 0===c||null===(f=c.data)||void 0===f?void 0:f.attributes)||(null===(v=i.url_segment)||void 0===v||null===(h=v.data)||void 0===h?void 0:h.attributes);if(!p)break;if((o=p.Slug)&&e.unshift(o),i=p.Parent,3===e.length)break}if("home"!==o&&(l.push(s),l.length>=3))throw new Error("There is an error in the urlPrefixFallback field in Strapi. There is a limit to the depth");return l.length>e.length?l:e}},5581:function(t,n,e){"use strict";e.d(n,{D:function(){return S},Y:function(){return P}});var r=e(7568),a=e(1438),o=e(8668),i=e(6042),s=e(9396),u=e(9534),l=e(9815),c=e(5892),f=e(1224),v=e(7582),h=e(129),p=e.n(h),d=e(6310),g=e(2689);var m=e(7891),y=e(2670);function b(t){return(0,y.Z)(t,Error)?t:"string"===typeof t?new Error(t):"object"===typeof t&&null!=t&&"string"===typeof t.message?new Error(t.message):void 0===t?new Error(t):new Error(JSON.stringify(t))}var w=e(3454),Z=function(){if(g.JF)return"/api/";var t=new URL(w.env.STRAPI_API_URL||"https://strapi.patreondev.com/api");"localhost"===t.hostname&&(t.hostname="127.0.0.1");var n=t.toString();return n.endsWith("/")?n:"".concat(n,"/")}(),S=function(t){(0,o.Z)(e,t);var n=(0,f.Z)(e);function e(t){var r,o=t.response,i=t.name,s=t.message,u=t.details,l=t.model,c=t.query;(0,a.Z)(this,e);var f=[i,s].filter(Boolean).join(": ");return!f&&o&&(f="status ".concat(o.status," ").concat(o.statusText)),r=n.call(this,"Error fetching from CMS: ".concat(f)),o&&(r.status=o.status,r.statusText=o.statusText),r.name=i,r.serverMessage=s,r.details=u,r.model=l,r.query=c,r}return e}((0,c.Z)(Error));function _(t,n,e,r){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)((function(t,n,e,r){var a,o,l,c,f,h,d,g;return(0,v.__generator)(this,(function(v){switch(v.label){case 0:(a=r?"string"===typeof r?r:p().stringify(r,{encodeValuesOnly:!0}):"")&&(a="?".concat(a)),v.label=1;case 1:return v.trys.push([1,4,,8]),[4,fetch("".concat(Z).concat(t).concat(a),{headers:{Authorization:"Bearer ".concat(w.env.STRAPI_API_TOKEN)}})];case 2:return[4,(o=v.sent()).json()];case 3:if(l=v.sent(),c=T(t,l),f=c.error,h=(0,u.Z)(c,["error"]),!o.ok||k(f)||!h.data)throw new S((0,s.Z)((0,i.Z)({response:o},f),{name:(null===f||void 0===f?void 0:f.name)||"",model:t,query:a}));return[2,h];case 4:return d=v.sent(),n>0?[4,new Promise((function(t){return setTimeout(t,e)}))]:[3,7];case 5:return v.sent(),[4,_(t,n-1,1.5*e,r)];case 6:return[2,v.sent()];case 7:throw g=b(d),new S({response:o,name:g.name,message:g.message});case 8:return[2]}}))}))).apply(this,arguments)}function P(t,n){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)((function(t,n){var e;return(0,v.__generator)(this,(function(r){switch(r.label){case 0:return n&&"string"!==typeof n&&(e=(0,i.Z)({},n)).fetchAll&&(t===m.v.Pages||t===m.v.Integrations)?(delete e.fetchAll,[2,x(t,e)]):[4,_(t,10,500,n)];case 1:return[2,r.sent().data]}}))}))).apply(this,arguments)}function x(t,n){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)((function(t,n){var e,r,a,o,u,c,f;return(0,v.__generator)(this,(function(v){switch(v.label){case 0:e={start:0,limit:100},n=(0,s.Z)((0,i.Z)({},n),{pagination:e}),r=[],v.label=1;case 1:return[4,_(t,10,500,n)];case 2:if(o=v.sent(),u=o.data,c=o.meta,f=u,(a=r).push.apply(a,(0,l.Z)(f)),!c.pagination)return[3,4];if(e.start=c.pagination.start+f.length,e.start>=c.pagination.total)return[3,4];v.label=3;case 3:return[3,1];case 4:return[2,r]}}))}))).apply(this,arguments)}function k(t){return!!((null===t||void 0===t?void 0:t.details)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.name))}function T(t,n){if(t===m.v.Locales){var e=n;return{data:e,meta:{pagination:{start:0,limit:e.length,total:e.length}}}}var r=(0,d.Ry)({data:(0,d.nK)().optional().nullable(),error:(0,d.Ry)({name:(0,d.Z_)().optional(),message:(0,d.Z_)().optional(),details:(0,d.Ry)().optional()}).optional(),meta:(0,d.Ry)({pagination:(0,d.Ry)({start:(0,d.Rx)().optional(),limit:(0,d.Rx)().optional(),total:(0,d.Rx)().optional()}).optional()})}).validateSync(n),a=r.data,o=r.meta,i=r.error,s=a?function(t,n){switch(t){case m.v.Pages:case m.v.SiteSettings:case m.v.Header:case m.v.Footer:case m.v.Integrations:case m.v.Locales:case m.v.IntegrationSettings:return n;default:!function(t){throw new Error('"'.concat(t,"\" was not handled correctly (type should be never but isn't)"))}(t)}}(t,a):void 0;return{data:s,meta:o,error:i}}},7891:function(t,n,e){"use strict";var r;e.d(n,{v:function(){return r}}),function(t){t.Integrations="integrations",t.Pages="pages",t.SiteSettings="site-settings",t.IntegrationSettings="integration-settings",t.Header="header",t.Footer="footer",t.Locales="i18n/locales"}(r||(r={}))},4654:function(){}}]);
//# sourceMappingURL=754-a17a129ea889f588.js.map